<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>ä¼šå“¡ãƒšãƒ¼ã‚¸ | KARiN.</title>
  <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='images/favicon.ico') }}">
  <link rel="shortcut icon" href="{{ url_for('static', filename='images/favicon.ico') }}">


  <!-- ===========================
       SEOè¨­å®šï¼ˆä¼šå“¡ãƒšãƒ¼ã‚¸ã¯NOINDEXï¼‰
  ============================ -->
  <meta name="robots" content="noindex, nofollow">
  <meta name="description" content="KARiN. ä¼šå“¡å°‚ç”¨ãƒšãƒ¼ã‚¸ã§ã™ã€‚å‹•ç”»ãƒ»ã‚³ãƒ©ãƒ ãƒ»ãŠçŸ¥ã‚‰ã›ã‚’ç¢ºèªã„ãŸã ã‘ã¾ã™ã€‚">
  <meta name="author" content="KARiN. ~Sports & Beauty~">

  <!-- ===========================
       OGPè¨­å®šï¼ˆæœ€ä½é™ã§OKï¼‰
  ============================ -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="KARiN. ä¼šå“¡ãƒšãƒ¼ã‚¸">
  <meta property="og:description" content="KARiN. ã®ä¼šå“¡å°‚ç”¨ãƒšãƒ¼ã‚¸ã§ã™ã€‚">
  <meta property="og:url" content="https://karin-sb.jp/mypage">
  <meta property="og:image" content="https://karin-sb.jp/static/images/relogo.png">
  <meta name="twitter:card" content="summary">

  <!-- ===========================
       CSS
  ============================ -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/mypage.css') }}">
</head>

<body>
  <header class="mypage-header">
    <div class="header-left">
        <h1>KARiN. ä¼šå“¡ãƒšãƒ¼ã‚¸</h1>
        <p class="welcome">ã‚ˆã†ã“ãã€{{ user }} ã•ã‚“</p>
    </div>
    <div class="header-right">
        <a class="logout" href="/logout">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</a>
    </div>
  </header>


  <main class="mypage-main">
    <!-- ğŸ¥ ã‚»ãƒ«ãƒ•ã‚±ã‚¢å‹•ç”» -->
    <section class="acc">
      <button class="acc-btn" aria-expanded="false">ğŸ¥ ã‚»ãƒ«ãƒ•ã‚±ã‚¢å‹•ç”»</button>
      <div class="acc-panel" hidden>
        {% if videos and videos|length > 0 %}
          <ul class="card-list">
            {% for v in videos %}
              <li class="card">
                <h3>{{ v.title }}</h3>
                {% if v.url %}
                  <p class="url"><a href="{{ v.url }}" target="_blank" rel="noopener">å‹•ç”»ãƒªãƒ³ã‚¯ã‚’é–‹ã</a></p>
                {% endif %}
                {% if v.desc %}<p class="desc">{{ v.desc }}</p>{% endif %}
                {% if v.date %}<p class="date">{{ v.date }}</p>{% endif %}
              </li>
            {% endfor %}
          </ul>
        {% else %}
          <p class="empty">ç¾åœ¨ã€è¡¨ç¤ºã§ãã‚‹å‹•ç”»ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</p>
        {% endif %}
      </div>
    </section>

    <!-- ğŸ“° é™å®šã‚³ãƒ©ãƒ ãƒ»è¨˜äº‹ -->
    <section class="acc">
      <button class="acc-btn" aria-expanded="false">ğŸ“° é™å®šã‚³ãƒ©ãƒ ãƒ»è¨˜äº‹</button>
      <div class="acc-panel" hidden>
        {% if articles and articles|length > 0 %}
          <ul class="card-list">
            {% for a in articles %}
              <li class="card">
                <h3>{{ a.title }}</h3>
                {% if a.url %}
                  <p class="url"><a href="{{ a.url }}" target="_blank" rel="noopener">è¨˜äº‹ãƒªãƒ³ã‚¯ã‚’é–‹ã</a></p>
                {% endif %}
                {% if a.desc %}<p class="desc">{{ a.desc }}</p>{% endif %}
                {% if a.date %}<p class="date">{{ a.date }}</p>{% endif %}
              </li>
            {% endfor %}
          </ul>
        {% else %}
          <p class="empty">ç¾åœ¨ã€è¡¨ç¤ºã§ãã‚‹è¨˜äº‹ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</p>
        {% endif %}
      </div>
    </section>

    <!-- ğŸ“¢ ä¼šå“¡å‘ã‘ãŠçŸ¥ã‚‰ã› -->
    <section class="acc">
      <button class="acc-btn" aria-expanded="false">ğŸ“¢ ä¼šå“¡å‘ã‘ãŠçŸ¥ã‚‰ã›</button>
      <div class="acc-panel" hidden>
        {% if news and news|length > 0 %}
          <ul class="card-list">
            {% for n in news %}
              <li class="card">
                <h3>{{ n.title }}</h3>
                {% if n.desc %}<p class="desc">{{ n.desc }}</p>{% endif %}
                {% if n.date %}<p class="date">{{ n.date }}</p>{% endif %}
              </li>
            {% endfor %}
          </ul>
        {% else %}
          <p class="empty">ç¾åœ¨ã€è¡¨ç¤ºã§ãã‚‹ãŠçŸ¥ã‚‰ã›ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</p>
        {% endif %}
      </div>
    </section>
  </main>

  <script>
    // --- ã‚¢ã‚³ãƒ¼ãƒ‡ã‚£ã‚ªãƒ³åˆæœŸçŠ¶æ…‹ã‚’ã™ã¹ã¦é–‰ã˜ã‚‹ ---
    document.querySelectorAll(".acc-btn").forEach((btn) => {
      btn.setAttribute("aria-expanded", "false");
      const panel = btn.nextElementSibling;
      panel.setAttribute("hidden", "");
    });

    // --- ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆ ---
    document.querySelectorAll(".acc-btn").forEach((btn) => {
      btn.addEventListener("click", () => {
        const expanded = btn.getAttribute("aria-expanded") === "true";
        btn.setAttribute("aria-expanded", String(!expanded));
        const panel = btn.nextElementSibling;
        if (expanded) {
          panel.setAttribute("hidden", "");
        } else {
          panel.removeAttribute("hidden");
        }
      });
    });
  </script>
</body>
</html>

