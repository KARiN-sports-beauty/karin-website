{% extends "base.html" %}
{% block title %}äº¤é€šè²»ç”³è«‹ - {{ year }}å¹´{{ month_name }} | KARiN.{% endblock %}

{% block content %}
<h2 class="admin-title">ğŸš— äº¤é€šè²»ç”³è«‹ - {{ year }}å¹´{{ month_name }}{% if is_admin %}ï¼ˆ{{ staff_name }}ï¼‰{% endif %}</h2>

<div style="margin-bottom: 20px;">
  {% if is_admin %}
  <a href="/admin/staff-reports/{{ staff_id }}/transportations/years/{{ year }}" class="admin-karte-detail-btn-back" style="text-decoration: none; display: inline-block; text-align: center; margin-bottom: 12px;">â† æœˆä¸€è¦§ã«æˆ»ã‚‹</a>
  {% else %}
  <a href="/staff/transportations/years/{{ year }}" class="admin-karte-detail-btn-back" style="text-decoration: none; display: inline-block; text-align: center; margin-bottom: 12px;">â† æœˆä¸€è¦§ã«æˆ»ã‚‹</a>
  {% endif %}
</div>

{% if transportations %}
<div style="padding: 24px; background: #fff; border-radius: 18px; box-shadow: 0 6px 18px rgba(0,0,0,0.08); margin-bottom: 20px;">
  <h3 style="margin: 0 0 20px 0; font-size: 1.2rem; font-weight: 600; color: #1E3A5F;">äº¤é€šè²»ä¸€è¦§</h3>
  
  <div style="overflow-x: auto;">
    <table style="width: 100%; border-collapse: collapse;">
      <thead>
        <tr style="border-bottom: 2px solid #1E3A5F;">
          <th style="padding: 12px; text-align: left; font-weight: 600; color: #1E3A5F;">æ—¥ä»˜</th>
          <th style="padding: 12px; text-align: left; font-weight: 600; color: #1E3A5F;">æœ¬æ—¥ã®ã‚·ãƒ•ãƒˆ</th>
          <th style="padding: 12px; text-align: left; font-weight: 600; color: #1E3A5F;">äº¤é€šæ‰‹æ®µ</th>
          <th style="padding: 12px; text-align: left; font-weight: 600; color: #1E3A5F;">åŒºé–“</th>
          <th style="padding: 12px; text-align: right; font-weight: 600; color: #1E3A5F;">é‡‘é¡</th>
          <th style="padding: 12px; text-align: left; font-weight: 600; color: #1E3A5F;">ãƒ¡ãƒ¢</th>
        </tr>
      </thead>
      <tbody>
        {% for trans in transportations %}
        <tr style="border-bottom: 1px solid #e0e0e0;">
          <td style="padding: 12px;">{{ trans.date }}</td>
          <td style="padding: 12px;">{{ trans.shift_memo or '-' }}</td>
          <td style="padding: 12px;">{{ trans.transport_type }}</td>
          <td style="padding: 12px;">{{ trans.route or '-' }}</td>
          <td style="padding: 12px; text-align: right;">Â¥{{ "{:,}".format(trans.amount) }}</td>
          <td style="padding: 12px;">{{ trans.memo or '-' }}</td>
        </tr>
        {% endfor %}
        <tr style="border-top: 2px solid #1E3A5F; font-weight: 600;">
          <td colspan="4" style="padding: 12px; text-align: right;">æœˆåˆè¨ˆ</td>
          <td style="padding: 12px; text-align: right; color: #1E3A5F;">Â¥{{ "{:,}".format(month_total) }}</td>
          <td style="padding: 12px;"></td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
{% else %}
<p style="padding: 20px; background: #fff; border-radius: 18px; box-shadow: 0 6px 18px rgba(0,0,0,0.08);">{{ year }}å¹´{{ month_name }}ã®äº¤é€šè²»ç”³è«‹ãŒã‚ã‚Šã¾ã›ã‚“ã€‚</p>
{% endif %}

{% endblock %}

