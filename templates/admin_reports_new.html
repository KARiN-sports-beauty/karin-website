{% extends "base.html" %}
{% block title %}æ–°è¦å ±å‘Šæ›¸ä½œæˆ | KARiN.{% endblock %}

{% block content %}
<h2 class="admin-title">ğŸ†• æ–°è¦å ±å‘Šæ›¸ä½œæˆ</h2>

{% if get_flashed_messages() %}
  {% for message in get_flashed_messages(with_categories=true) %}
    <div class="admin-alert admin-alert-{{ message[0] }}" style="margin-bottom: 20px; padding: 12px; border-radius: 8px; background: {% if message[0] == 'success' %}#d4edda{% else %}#f8d7da{% endif %}; color: {% if message[0] == 'success' %}#155724{% else %}#721c24{% endif %};">
      {{ message[1] }}
    </div>
  {% endfor %}
{% endif %}

<form method="POST" action="/admin/reports/new" style="max-width: 1200px;">
  <div style="margin-bottom: 20px; padding: 24px; background: #fff; border-radius: 18px; box-shadow: 0 6px 18px rgba(0,0,0,0.08);">
    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px;">
      <!-- å·¦åˆ— -->
      <div style="display: flex; flex-direction: column; gap: 20px;">
        <div>
          <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #1E3A5F; font-size: 0.95rem;">ç¾å ´åï¼ˆå¿…é ˆï¼‰</label>
          <input type="text" name="field_name" required style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 1rem; box-sizing: border-box;">
        </div>
        
        <div>
          <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #1E3A5F; font-size: 0.95rem;">å ´æ‰€</label>
          <input type="text" name="place" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 1rem; box-sizing: border-box;">
        </div>
        
        <div>
          <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #1E3A5F; font-size: 0.95rem;">å¯¾å¿œã‚¹ã‚¿ãƒƒãƒ•ï¼ˆè¤‡æ•°é¸æŠå¯ï¼‰</label>
          <div style="display: flex; flex-direction: column; gap: 10px; padding: 12px; background: #f5f7fb; border-radius: 8px; border: 1px solid #e0e0e0;">
            {% for staff in staff_list %}
            <label style="display: flex; align-items: center; gap: 10px; cursor: pointer; padding: 6px 0;">
              <input type="checkbox" name="staff_names" value="{{ staff.name }}" style="width: 18px; height: 18px; cursor: pointer;">
              <span style="font-size: 0.95rem; color: #333;">{{ staff.name }}</span>
            </label>
            {% endfor %}
          </div>
        </div>
      </div>
      
      <!-- å³åˆ— -->
      <div style="display: flex; flex-direction: column; gap: 20px;">
        <div>
          <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #1E3A5F; font-size: 0.95rem;">æ—¥ä»˜ï¼ˆå¿…é ˆï¼‰</label>
          <input type="date" name="report_date" required style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 1rem; box-sizing: border-box;">
        </div>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
          <div>
            <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #1E3A5F; font-size: 0.95rem;">é–‹å§‹æ™‚é–“</label>
            <input type="time" name="start_time" value="07:00" required style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 1rem; box-sizing: border-box;">
          </div>
          <div>
            <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #1E3A5F; font-size: 0.95rem;">çµ‚äº†æ™‚é–“</label>
            <input type="time" name="end_time" value="22:00" required style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 1rem; box-sizing: border-box;">
          </div>
        </div>
        <div style="padding: 12px; background: #f0f7ff; border-radius: 8px; border: 1px solid #b3d9ff;">
          <p style="margin: 0; font-size: 0.9rem; color: #1E3A5F;">
            <strong>åˆ—æ•°ã«ã¤ã„ã¦ï¼š</strong><br>
            å¯¾å¿œã‚¹ã‚¿ãƒƒãƒ•ã®äººæ•°ã«å¿œã˜ã¦è‡ªå‹•çš„ã«åˆ—æ•°ãŒè¨­å®šã•ã‚Œã¾ã™ã€‚<br>
            1åã®å ´åˆã¯2åˆ—ï¼ˆã‚¹ã‚¿ãƒƒãƒ•åãƒ»æ–½è¡“å†…å®¹ï¼‰ã€2åä»¥ä¸Šã®å ´åˆã¯ã‚¹ã‚¿ãƒƒãƒ•åã®åˆ—ãŒä½œæˆã•ã‚Œã¾ã™ã€‚
          </p>
        </div>
      </div>
    </div>
  </div>
  
  <div style="display: flex; gap: 12px; margin-top: 30px;">
    <button type="submit" class="admin-karte-detail-btn-primary" style="border: none; cursor: pointer;">ğŸ’¾ ä½œæˆ</button>
    <a href="/admin/reports" class="admin-karte-detail-btn-back" style="text-decoration: none; display: inline-block; text-align: center;">â† ä¸€è¦§ã«æˆ»ã‚‹</a>
  </div>
</form>

{% endblock %}

